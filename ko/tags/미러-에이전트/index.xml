<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>미러 에이전트 on 향숙의 수첩</title>
        <link>https://ttf248.life/ko/tags/%EB%AF%B8%EB%9F%AC-%EC%97%90%EC%9D%B4%EC%A0%84%ED%8A%B8/</link>
        <description>Recent content in 미러 에이전트 on 향숙의 수첩</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ko</language>
        <lastBuildDate>Sun, 25 May 2025 14:10:37 +0800</lastBuildDate><atom:link href="https://ttf248.life/ko/tags/%EB%AF%B8%EB%9F%AC-%EC%97%90%EC%9D%B4%EC%A0%84%ED%8A%B8/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>도커 국내 이미지 프록시 만료</title>
        <link>https://ttf248.life/ko/p/docker-domestic-mirror-failure/</link>
        <pubDate>Sat, 04 Jan 2025 18:29:25 +0800</pubDate>
        
        <guid>https://ttf248.life/ko/p/docker-domestic-mirror-failure/</guid>
        <description>&lt;p&gt;국내 서버에 도커를 배포하고, 배포 후 회사에서 이미지 센터를 제공하지 않는 경우, 개발자가 먼저 해야 할 일은 국내 이미지 가속 주소를 설정하는 것입니다. 그런데 오늘 우연히 서버 한 대가 있고, 이미지 가속 주소를 설정했는데 이미지를 가져오려고 하면 계속 가져오지 못합니다.&lt;/p&gt;
&lt;p&gt;데몬 오류: &lt;code&gt;https://registry-1.docker.io/v2/&lt;/code&gt;에서 헤더를 기다리는 동안 연결을 기다리던 중 요청이 취소되었습니다(Client.Timeout 초과)&lt;/p&gt;
&lt;p&gt;두 날이 지났지만 모든 서버가 복구되었고, 이 일이 검색어 순위에 오르지 않고, 국내 모든 미러 대리들이 멈췄다&lt;/p&gt;
&lt;h2 id=&#34;오류-해결-및-복구-시도&#34;&gt;오류 해결 및 복구 시도
&lt;/h2&gt;&lt;p&gt;처음에 다른 미러 이미지 주소로 전환을 시도하여 문제를 해결하고자 했지만, 기대와 달리 문제는 여전히 발생했습니다&lt;/p&gt;
&lt;p&gt;곧바로, 로컬 DNS 설정을 수정하기 시작하여 네트워크 해상도 수준에서 돌파구를 찾으려 했지만, 안타깝게도 여러 번의 디버깅 끝에 문제점은 여전히 남아 있었다&lt;/p&gt;
&lt;p&gt;현재, 로컬 네트워크의 안정성이 크게 의심받고 있어 즉시 휴대폰 핫스팟으로 전환하여 가능한 로컬 네트워크 문제점을 우회하려 했지만 결과는 낙담스러웠고, 문제는 전혀 개선될 기미가 보이지 않습니다&lt;/p&gt;
&lt;h2 id=&#34;문제-확산&#34;&gt;문제 확산
&lt;/h2&gt;&lt;p&gt;현재 &lt;strong&gt;국내에 배치된 몇 대의 서버&lt;/strong&gt;가 있으며, 모두 Docker 환경이 설치되어 있습니다. 이러한 서버에서 이미지를 가져오려고 시도했었는데, 다른 방법을 찾을 수 있을 것이라고 생각했지만 결과적으로는 단 한 건도 성공하지 못했고, 보고되는 오류 메시지가 모두 동일했습니다. 이는 문제가 특정 장비에 국한된 것이 아니라는 것을 의미합니다.&lt;/p&gt;
&lt;p&gt;더 자세히 조사해 보니 미러 에이전트가 갑자기 작동하지 않음을 확인했습니다. 이 긴급한 순간에 해외 머신으로 빠르게 전환하여 시도했고, 다행히 이미지 풀링은 여기서 정상적으로 복구되었습니다. 이는 문제의 원인이 국내 네트워크 링크나 관련 설정에 있을 가능성이 높다는 것을 의미합니다.&lt;/p&gt;
&lt;h2 id=&#34;전략-조정-우회-해결&#34;&gt;전략 조정: 우회 해결
&lt;/h2&gt;&lt;p&gt;국내에서 직접 이미지를 가져오는 경로가 여러 차례 막히고 해외 이미지는 정상적으로 접근할 수 있다는 점을 고려하여, 프로젝트를 최대한 빠르게 진행하기 위해 우회적인 전술을 채택합니다. 먼저 해외 서버로 전환하여 필요한 이미지를 성공적으로 가져온 후, 이를 국내 이미지 저장소에 푸시하여 “데이터 다리”를 구축합니다.&lt;/p&gt;
&lt;p&gt;동시에 Dockerfile 파일도 수정하여 이미지 주소를 국내 환경에 적합한 주소로 변경하고, 다시 이미지를 빌드하여 최종적으로 성공적으로 배포했습니다&lt;/p&gt;</description>
        </item>
        
    </channel>
</rss>
