<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>æ€§èƒ½æŒ‡æ ‡ on å‘å”è®°äº‹ç°¿</title>
        <link>https://ttf248.life/tags/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/</link>
        <description>Recent content in æ€§èƒ½æŒ‡æ ‡ on å‘å”è®°äº‹ç°¿</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Thu, 29 Jan 2026 22:52:12 +0800</lastBuildDate><atom:link href="https://ttf248.life/tags/%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Prometheusç›‘æ§ç³»ç»ŸHistogramå’ŒSummary</title>
        <link>https://ttf248.life/p/prometheus-monitoring-system-histogram-and-summary/</link>
        <pubDate>Wed, 04 Jun 2025 19:00:28 +0800</pubDate>
        
        <guid>https://ttf248.life/p/prometheus-monitoring-system-histogram-and-summary/</guid>
        <description>&lt;p&gt;ä¸šåŠ¡ç³»ç»Ÿè®¾è®¡äº† Summary ç±»å‹çš„ç›‘æ§æŒ‡æ ‡ï¼Œè®¡ç®—å¹³å‡è€—æ—¶ï¼šrequest_duration_milliseconds_sum / request_duration_milliseconds_countã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹æ•°æ®ï¼Œå‘ç°æŸä¸ªæ¥å£å¹³å‡è€—æ—¶å¾ˆé«˜ï¼Œç¿»çœ‹æ—¶åºå›¾ï¼Œå¹³å‡è€—æ—¶æ˜¯çªç„¶å¢åŠ çš„ï¼Œç­‰äºå°±æ˜¯æŸæ¬¡è¯·æ±‚è€—æ—¶å¾ˆé«˜ï¼Œæ‹‰é«˜äº†å¹³å‡å€¼ï¼Œæƒ³æŸ¥å…·ä½“æ˜¯ä»€ä¹ˆæ—¶å€™å‘ç”Ÿçš„è¯·æ±‚ï¼Œç”±äºæ—¶æ®µå†…çš„è¯·æ±‚å¤ªå°‘ï¼ŒæŸ¥å‡ºæ¥çš„æ•°æ®ä¸€ç›´ç©ºã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç­”ç–‘&#34;&gt;ç­”ç–‘
&lt;/h2&gt;&lt;h3 id=&#34;-ä¸ºä»€ä¹ˆ-_sum-å’Œ-_count-æœ‰æ•°æ®&#34;&gt;âœ… ä¸ºä»€ä¹ˆ &lt;code&gt;_sum&lt;/code&gt; å’Œ &lt;code&gt;_count&lt;/code&gt; æœ‰æ•°æ®
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;_sum&lt;/code&gt; å’Œ &lt;code&gt;_count&lt;/code&gt; æ˜¯ Summary ç±»å‹çš„&lt;strong&gt;æ ¸å¿ƒæŒ‡æ ‡&lt;/strong&gt;ï¼ŒPrometheus å§‹ç»ˆä¼šé‡‡é›†å¹¶è®°å½•è¿™ä¸¤ä¸ªå€¼ï¼›&lt;/li&gt;
&lt;li&gt;å®ƒä»¬æ˜¯&lt;strong&gt;ç´¯ç§¯å‹çš„ counter&lt;/strong&gt;ï¼Œé€‚åˆç”¨ &lt;code&gt;rate()&lt;/code&gt; æˆ– &lt;code&gt;increase()&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;æ— è®ºè¯·æ±‚å»¶è¿Ÿå¦‚ä½•å˜åŒ–ï¼Œåªè¦æœ‰è¯·æ±‚ï¼Œå°±ä¸€å®šä¼šæœ‰ &lt;code&gt;_sum&lt;/code&gt; å’Œ &lt;code&gt;_count&lt;/code&gt; æ•°æ®ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;-ä¸ºä»€ä¹ˆ-quantile099-å¯èƒ½æ— æ³•åœ¨æ—¶åºå›¾ä¸­å±•ç¤º&#34;&gt;âŒ ä¸ºä»€ä¹ˆ &lt;code&gt;{quantile=&amp;quot;0.99&amp;quot;}&lt;/code&gt; å¯èƒ½&lt;strong&gt;æ— æ³•åœ¨æ—¶åºå›¾ä¸­å±•ç¤º&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;å“ªæ€• Summary é…ç½®äº† quantile=&amp;ldquo;0.99&amp;rdquo;ï¼Œè¿™ä¸ªæ—¶é—´åºåˆ—ä¹Ÿå¯èƒ½ä¸å­˜åœ¨æˆ–ç¼ºå¤±&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æŒ‡æ ‡è‚¯å®šæ˜¯é…ç½®äº†ï¼Œæ•°æ®ä¹Ÿæ²¡æœ‰è¿‡æœŸï¼ŒğŸ“‰ è¯·æ±‚é‡å¤ªå°ï¼Œquantile æ— æ³•è®¡ç®—ï¼Œæ»‘åŠ¨çª—å£æœºåˆ¶ï¼Œè¿‡äº†è¿™æ®µæ—¶é—´ï¼Œå°±ä¸ä¼šå†çº³å…¥ç»Ÿè®¡èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†ä½æ•°ï¼ˆå¦‚ p99ï¼‰æ˜¯é€šè¿‡é‡‡æ ·ç»Ÿè®¡è®¡ç®—çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæŸæ®µæ—¶é—´å†…è¯·æ±‚æ•°å¤ªå°‘ï¼ˆå¦‚ 1~2 ä¸ªè¯·æ±‚ï¼‰ï¼Œp99 çš„è®¡ç®—æ˜¯&lt;strong&gt;ä¸ç¨³å®šæˆ–æ²¡æœ‰ä»£è¡¨æ„ä¹‰&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;Prometheus &lt;strong&gt;å®¢æˆ·ç«¯ SDK ä¼šé€‰æ‹©ä¸æš´éœ²è¯¥ quantile æ—¶é—´åºåˆ—&lt;/strong&gt;ï¼Œä»¥é¿å…è¯¯å¯¼ï¼›&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ä½ ä¼šçœ‹åˆ° &lt;code&gt;_sum&lt;/code&gt;ã€&lt;code&gt;_count&lt;/code&gt; æ­£å¸¸ç´¯åŠ ï¼Œä½† &lt;code&gt;quantile=&amp;quot;0.99&amp;quot;&lt;/code&gt; æ²¡æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;histogram-å’Œ-summary-çš„åŒºåˆ«&#34;&gt;Histogram å’Œ Summary çš„åŒºåˆ«
&lt;/h2&gt;&lt;h3 id=&#34;histogram&#34;&gt;&lt;strong&gt;Histogram&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å·¥ä½œåŸç†&lt;/strong&gt;:&lt;br&gt;
Histogram ä¼šå°†æ•°æ®åˆ†æ¡¶ï¼ˆbucketsï¼‰ï¼Œè®°å½•æ¯ä¸ªæ¡¶ä¸­è½å…¥çš„æ ·æœ¬æ•°é‡ã€‚&lt;br&gt;
ä¾‹å¦‚ï¼Œå®šä¹‰çš„æ¡¶ä¸º &lt;code&gt;[10ms, 50ms, 100ms, 500ms, 1s]&lt;/code&gt;ï¼Œæ¯æ¬¡è¯·æ±‚çš„è€—æ—¶ä¼šè¢«å½’å…¥å¯¹åº”çš„æ¡¶ä¸­ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥åœ¨ Prometheus ä¸­èšåˆå¤šä¸ªå®ä¾‹çš„æ•°æ®ï¼ˆä¾‹å¦‚å¤šä¸ªæœåŠ¡èŠ‚ç‚¹çš„è¯·æ±‚è€—æ—¶åˆ†å¸ƒï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é€‚åˆè®¡ç®—åˆ†ä½æ•°ï¼ˆå¦‚ P50ã€P95ã€P99ï¼‰å’Œè§‚å¯Ÿè€—æ—¶åˆ†å¸ƒã€‚&lt;/li&gt;
&lt;li&gt;æä¾›äº†çµæ´»çš„æŸ¥è¯¢èƒ½åŠ›ï¼Œæ”¯æŒé€šè¿‡ PromQL åŠ¨æ€è®¡ç®—åˆ†ä½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦é¢„å®šä¹‰æ¡¶çš„èŒƒå›´ï¼Œé€‰æ‹©ä¸å½“å¯èƒ½å¯¼è‡´æ•°æ®åˆ†å¸ƒä¸å‡ï¼ˆä¾‹å¦‚ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½è½åœ¨ä¸€ä¸ªæ¡¶ä¸­ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ¡¶çš„æ•°é‡è¶Šå¤šï¼Œå­˜å‚¨å’Œè®¡ç®—çš„å¼€é”€è¶Šå¤§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦èšåˆå¤šä¸ªå®ä¾‹çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦åŠ¨æ€è°ƒæ•´åˆ†ä½æ•°æˆ–åˆ†æè€—æ—¶åˆ†å¸ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;summary&#34;&gt;&lt;strong&gt;Summary&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å·¥ä½œåŸç†&lt;/strong&gt;:&lt;br&gt;
Summary ä¼šåœ¨å®¢æˆ·ç«¯ç›´æ¥è®¡ç®—åˆ†ä½æ•°ï¼ˆå¦‚ P50ã€P95ã€P99ï¼‰ï¼Œå¹¶å°†ç»“æœä¸ŠæŠ¥åˆ° Prometheusã€‚&lt;br&gt;
å®ƒè¿˜ä¼šè®°å½•æ ·æœ¬çš„æ€»æ•°å’Œæ€»å’Œï¼Œç”¨äºè®¡ç®—å¹³å‡å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸éœ€è¦é¢„å®šä¹‰æ¡¶ï¼Œç›´æ¥æä¾›åˆ†ä½æ•°ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;é€‚åˆå•å®ä¾‹çš„ç²¾ç¡®åˆ†ä½æ•°è®¡ç®—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†ä½æ•°çš„è®¡ç®—æ˜¯åœ¨å®¢æˆ·ç«¯å®Œæˆçš„ï¼Œæ— æ³•åœ¨ Prometheus ä¸­èšåˆå¤šä¸ªå®ä¾‹çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœéœ€è¦è°ƒæ•´åˆ†ä½æ•°ï¼ˆå¦‚ä» P95 æ”¹ä¸º P99ï¼‰ï¼Œéœ€è¦ä¿®æ”¹ä»£ç å¹¶é‡æ–°éƒ¨ç½²ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•å®ä¾‹ç›‘æ§ï¼Œä¸”å¯¹åˆ†ä½æ•°çš„ç²¾ç¡®æ€§è¦æ±‚è¾ƒé«˜ã€‚&lt;/li&gt;
&lt;li&gt;ä¸éœ€è¦èšåˆå¤šä¸ªå®ä¾‹çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸»è¦åŒºåˆ«å¯¹æ¯”&#34;&gt;&lt;strong&gt;ä¸»è¦åŒºåˆ«å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç‰¹æ€§&lt;/th&gt;
&lt;th&gt;Histogram&lt;/th&gt;
&lt;th&gt;Summary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åˆ†ä½æ•°è®¡ç®—&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åœ¨ Prometheus ä¸­åŠ¨æ€è®¡ç®—&lt;/td&gt;
&lt;td&gt;åœ¨å®¢æˆ·ç«¯ç›´æ¥è®¡ç®—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¤šå®ä¾‹èšåˆ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;ä¸æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ¡¶çš„å®šä¹‰&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éœ€è¦é¢„å®šä¹‰&lt;/td&gt;
&lt;td&gt;ä¸éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å­˜å‚¨å¼€é”€&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å–å†³äºæ¡¶çš„æ•°é‡&lt;/td&gt;
&lt;td&gt;å›ºå®šå¼€é”€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;çµæ´»æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é«˜ï¼ˆå¯åŠ¨æ€è°ƒæ•´åˆ†ä½æ•°ï¼‰&lt;/td&gt;
&lt;td&gt;ä½ï¼ˆéœ€ä¿®æ”¹ä»£ç è°ƒæ•´åˆ†ä½æ•°ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœéœ€è¦èšåˆå¤šä¸ªå®ä¾‹çš„æ•°æ®ï¼Œæˆ–è€…éœ€è¦çµæ´»è°ƒæ•´åˆ†ä½æ•°ï¼Œé€‰æ‹© &lt;strong&gt;Histogram&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåªéœ€è¦å•å®ä¾‹çš„ç²¾ç¡®åˆ†ä½æ•°ï¼Œä¸”åˆ†ä½æ•°å›ºå®šï¼Œé€‰æ‹© &lt;strong&gt;Summary&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä½ çš„åœºæ™¯ä¸­ï¼Œç”±äºæœåŠ¡æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ &lt;strong&gt;Histogram&lt;/strong&gt;ï¼Œè¿™æ ·å¯ä»¥åœ¨ Prometheus ä¸­èšåˆæ‰€æœ‰å®ä¾‹çš„æ•°æ®ï¼Œå¹¶åŠ¨æ€è®¡ç®—åˆ†ä½æ•°å’Œè€—æ—¶åˆ†å¸ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;æ»‘åŠ¨çª—å£çš„æ¦‚å¿µåŠå…¶ä¸-histogram-å’Œ-summary-çš„å…³ç³»&#34;&gt;æ»‘åŠ¨çª—å£çš„æ¦‚å¿µåŠå…¶ä¸ Histogram å’Œ Summary çš„å…³ç³»
&lt;/h2&gt;&lt;h3 id=&#34;æ»‘åŠ¨çª—å£çš„æ¦‚å¿µ&#34;&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£çš„æ¦‚å¿µ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§æ—¶é—´çª—å£æœºåˆ¶ï¼Œç”¨äºç»Ÿè®¡ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®å˜åŒ–ã€‚å®ƒé€šè¿‡ä¸æ–­ç§»åŠ¨çš„æ—¶é—´èŒƒå›´ï¼ŒåŠ¨æ€åæ˜ ç³»ç»Ÿçš„å®æ—¶çŠ¶æ€ã€‚æ»‘åŠ¨çª—å£çš„ç‰¹ç‚¹æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å›ºå®šæ—¶é—´èŒƒå›´&lt;/strong&gt;ï¼šçª—å£çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚æœ€è¿‘ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶æ›´æ–°&lt;/strong&gt;ï¼šéšç€æ—¶é—´çš„æ¨ç§»ï¼Œçª—å£ä¼šæ»‘åŠ¨ï¼Œæ—§çš„æ•°æ®è¢«ç§»å‡ºçª—å£ï¼Œæ–°æ•°æ®è¢«åŠ å…¥çª—å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸¸è§ç”¨é€”&lt;/strong&gt;ï¼šç”¨äºè®¡ç®—å®æ—¶æŒ‡æ ‡ï¼ˆå¦‚è¯·æ±‚é€Ÿç‡ã€å¹³å‡å€¼ã€åˆ†ä½æ•°ç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ Prometheus ä¸­ï¼Œæ»‘åŠ¨çª—å£é€šå¸¸é€šè¿‡æŸ¥è¯¢å‡½æ•°ï¼ˆå¦‚ &lt;code&gt;rate()&lt;/code&gt;ã€&lt;code&gt;avg_over_time()&lt;/code&gt;ï¼‰å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ»‘åŠ¨çª—å£ä¸-histogram-çš„å…³ç³»&#34;&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£ä¸ Histogram çš„å…³ç³»&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Histogram çš„æ•°æ®ç»“æ„&lt;/strong&gt;ï¼š&lt;br&gt;
Histogram ä¼šå°†æ ·æœ¬æ•°æ®åˆ†æ¡¶ï¼Œå¹¶è®°å½•æ¯ä¸ªæ¡¶çš„è®¡æ•°ã€‚Prometheus ä¼šå‘¨æœŸæ€§åœ°æŠ“å–è¿™äº›è®¡æ•°å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£çš„å®ç°&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨ Prometheus ä¸­ï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢è¯­å¥å¯¹ Histogram çš„æ•°æ®åº”ç”¨æ»‘åŠ¨çª—å£ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rate(http_request_duration_seconds_bucket[5m])&lt;/code&gt;ï¼šè®¡ç®—è¿‡å» 5 åˆ†é’Ÿå†…æ¯ä¸ªæ¡¶çš„è¯·æ±‚é€Ÿç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))&lt;/code&gt;ï¼šè®¡ç®—è¿‡å» 5 åˆ†é’Ÿå†…çš„ P95 åˆ†ä½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ»‘åŠ¨çª—å£å¯ä»¥åŠ¨æ€åæ˜ æœ€è¿‘ä¸€æ®µæ—¶é—´çš„è¯·æ±‚è€—æ—¶åˆ†å¸ƒã€‚&lt;/li&gt;
&lt;li&gt;Histogram çš„åˆ†æ¡¶æœºåˆ¶ä¸æ»‘åŠ¨çª—å£ç»“åˆï¼Œå¯ä»¥é«˜æ•ˆè®¡ç®—åˆ†ä½æ•°å’Œåˆ†å¸ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ»‘åŠ¨çª—å£ä¸-summary-çš„å…³ç³»&#34;&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£ä¸ Summary çš„å…³ç³»&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Summary çš„æ•°æ®ç»“æ„&lt;/strong&gt;ï¼š&lt;br&gt;
Summary ä¼šåœ¨å®¢æˆ·ç«¯ç›´æ¥è®¡ç®—åˆ†ä½æ•°ï¼Œå¹¶ä¸ŠæŠ¥åˆ° Prometheusã€‚å®ƒè¿˜ä¼šè®°å½•æ ·æœ¬æ€»æ•°å’Œæ€»å’Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£çš„å®ç°&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨ Prometheus ä¸­ï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢è¯­å¥å¯¹ Summary çš„æ•°æ®åº”ç”¨æ»‘åŠ¨çª—å£ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rate(http_request_duration_seconds_sum[5m]) / rate(http_request_duration_seconds_count[5m])&lt;/code&gt;ï¼šè®¡ç®—è¿‡å» 5 åˆ†é’Ÿå†…çš„å¹³å‡è¯·æ±‚è€—æ—¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é™åˆ¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Summary çš„åˆ†ä½æ•°æ˜¯å®¢æˆ·ç«¯è®¡ç®—çš„ï¼Œæ— æ³•åœ¨ Prometheus ä¸­é‡æ–°è®¡ç®—åˆ†ä½æ•°ï¼Œå› æ­¤æ»‘åŠ¨çª—å£å¯¹åˆ†ä½æ•°çš„æ”¯æŒæœ‰é™ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœéœ€è¦èšåˆå¤šä¸ªå®ä¾‹çš„æ•°æ®ï¼Œæ»‘åŠ¨çª—å£æ— æ³•ç›´æ¥ä½œç”¨äº Summary çš„åˆ†ä½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ»‘åŠ¨çª—å£çš„é€‚ç”¨åœºæ™¯&#34;&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£çš„é€‚ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶ç›‘æ§&lt;/strong&gt;ï¼šæ»‘åŠ¨çª—å£é€‚åˆç”¨äºç›‘æ§ç³»ç»Ÿçš„å®æ—¶çŠ¶æ€ï¼Œä¾‹å¦‚æœ€è¿‘ 1 åˆ†é’Ÿçš„è¯·æ±‚é€Ÿç‡ã€è€—æ—¶åˆ†å¸ƒç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚å¸¸æ£€æµ‹&lt;/strong&gt;ï¼šé€šè¿‡æ»‘åŠ¨çª—å£ï¼Œå¯ä»¥å¿«é€Ÿå‘ç°çŸ­æ—¶é—´å†…çš„å¼‚å¸¸æƒ…å†µï¼ˆå¦‚è¯·æ±‚è€—æ—¶çªç„¶å¢åŠ ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€åˆ†æ&lt;/strong&gt;ï¼šæ»‘åŠ¨çª—å£å¯ä»¥åŠ¨æ€åæ˜ ç³»ç»Ÿçš„å˜åŒ–è¶‹åŠ¿ï¼Œè€Œä¸æ˜¯é™æ€çš„å…¨å±€ç»Ÿè®¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ€»ç»“-1&#34;&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Histogram&lt;/strong&gt; ä¸æ»‘åŠ¨çª—å£ç»“åˆï¼Œå¯ä»¥åŠ¨æ€è®¡ç®—åˆ†ä½æ•°ï¼ˆå¦‚ P95ã€P99ï¼‰å’Œè¯·æ±‚è€—æ—¶åˆ†å¸ƒï¼Œé€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿçš„ç›‘æ§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Summary&lt;/strong&gt; ä¸æ»‘åŠ¨çª—å£ç»“åˆï¼Œå¯ä»¥è®¡ç®—å¹³å‡å€¼ç­‰ç®€å•æŒ‡æ ‡ï¼Œä½†åˆ†ä½æ•°çš„çµæ´»æ€§è¾ƒå·®ï¼Œä¸”ä¸æ”¯æŒå¤šå®ä¾‹èšåˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä½ çš„åœºæ™¯ä¸­ï¼Œç”±äºéœ€è¦ç›‘æ§æç«¯è¯·æ±‚è€—æ—¶ï¼ˆå¦‚ P99ï¼‰å’Œå¤§éƒ¨åˆ†è¯·æ±‚çš„å¹³å‡å€¼ï¼Œå»ºè®®ä½¿ç”¨ &lt;strong&gt;Histogram&lt;/strong&gt;ï¼Œå¹¶ç»“åˆæ»‘åŠ¨çª—å£æŸ¥è¯¢æ¥åŠ¨æ€åˆ†æç³»ç»Ÿçš„æ€§èƒ½è¡¨ç°ã€‚&lt;/p&gt;</description>
        </item>
        
    </channel>
</rss>
