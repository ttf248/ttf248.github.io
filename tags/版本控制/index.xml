<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>版本控制 on 向叔记事簿</title>
        <link>https://ttf248.life/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/</link>
        <description>Recent content in 版本控制 on 向叔记事簿</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Sat, 28 Feb 2026 18:21:22 +0800</lastBuildDate><atom:link href="https://ttf248.life/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Git修改历史记录中的递交信息</title>
        <link>https://ttf248.life/p/git-modify-commit-message/</link>
        <pubDate>Wed, 07 May 2025 18:38:31 +0800</pubDate>
        
        <guid>https://ttf248.life/p/git-modify-commit-message/</guid>
        <description>&lt;p&gt;脚本用于批量修改 Git 历史提交的作者信息，通过 git filter-branch 重写历史提交记录。&lt;/p&gt;
&lt;p&gt;您提供的脚本用于批量修改 Git 仓库历史提交中的作者信息，整体思路是正确的，但在 &lt;code&gt;git filter-branch&lt;/code&gt; 的 &lt;code&gt;--env-filter&lt;/code&gt; 中使用数组（如 &lt;code&gt;OLD_EMAILS=(&amp;quot;...&amp;quot;)&lt;/code&gt;）可能会导致兼容性问题，因为某些 shell 环境（如 &lt;code&gt;/bin/sh&lt;/code&gt;）并不支持数组语法。&lt;/p&gt;
&lt;p&gt;为提高兼容性，建议将数组替换为以空格分隔的字符串，并使用 &lt;code&gt;for&lt;/code&gt; 循环遍历每个旧邮箱地址。以下是修改后的脚本示例：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/sh

git filter-branch --env-filter &#39;
OLD_EMAILS=&amp;quot;TianlongXiang51@gmail.com nick@qq.com tianlongxiang51@gmail.com&amp;quot;
CORRECT_NAME=&amp;quot;tianlong.xiang&amp;quot;
CORRECT_EMAIL=&amp;quot;tianlong.xiang@foxmail.com&amp;quot;

for OLD_EMAIL in $OLD_EMAILS
do
    if [ &amp;quot;$GIT_COMMITTER_EMAIL&amp;quot; = &amp;quot;$OLD_EMAIL&amp;quot; ]
    then
        export GIT_COMMITTER_NAME=&amp;quot;$CORRECT_NAME&amp;quot;
        export GIT_COMMITTER_EMAIL=&amp;quot;$CORRECT_EMAIL&amp;quot;
    fi
    if [ &amp;quot;$GIT_AUTHOR_EMAIL&amp;quot; = &amp;quot;$OLD_EMAIL&amp;quot; ]
    then
        export GIT_AUTHOR_NAME=&amp;quot;$CORRECT_NAME&amp;quot;
        export GIT_AUTHOR_EMAIL=&amp;quot;$CORRECT_EMAIL&amp;quot;
    fi
done
&#39; --tag-name-filter cat -- --branches --tags
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;注意事项：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在执行此脚本之前，建议备份您的仓库，以防止意外情况发生。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;此操作会重写 Git 历史，修改提交的作者信息，可能会导致提交哈希值发生变化。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果您已经将更改推送到远程仓库，需要使用强制推送：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git push --force --tags origin &#39;refs/heads/*&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;请谨慎使用强制推送，尤其是在多人协作的项目中，以避免对他人造成影响。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;统计仓库所有的不重复作者邮箱&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git log --format=&#39;%an &amp;lt;%ae&amp;gt;&#39; | sort -u
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        <item>
        <title>几个不常用GIT命令汇总</title>
        <link>https://ttf248.life/p/less-common-git-commands-summary/</link>
        <pubDate>Fri, 17 Feb 2023 10:08:57 +0800</pubDate>
        
        <guid>https://ttf248.life/p/less-common-git-commands-summary/</guid>
        <description>&lt;p&gt;不常用，但是很有用的&lt;code&gt;git&lt;/code&gt;命令&lt;/p&gt;
&lt;h3 id=&#34;重装系统导致windows上文件夹所有者信息变更&#34;&gt;重装系统导致&lt;code&gt;windows&lt;/code&gt;上文件夹所有者信息变更
&lt;/h3&gt;&lt;p&gt;新版本&lt;code&gt;git&lt;/code&gt;增加了安全性校验，提示不安全，导致无法继续操作&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git config --global --add safe.directory
git config --global --add safe.directory &amp;quot;*&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;新电脑保存账号密码信息&#34;&gt;新电脑保存账号密码信息
&lt;/h3&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git config --global credential.helper store
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果保存的信息需要更新，先清理老的凭证&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git config --system --unset credential.helper
&lt;/code&gt;&lt;/pre&gt;</description>
        </item>
        
    </channel>
</rss>
