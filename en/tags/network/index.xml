<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Network on Uncle Xiang&#39;s Notebook</title>
        <link>https://ttf248.life/en/tags/network/</link>
        <description>Recent content in Network on Uncle Xiang&#39;s Notebook</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <lastBuildDate>Sun, 25 May 2025 02:57:45 +0800</lastBuildDate><atom:link href="https://ttf248.life/en/tags/network/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Desktop upgrade to 2.5G network card, accelerating local area network interconnection</title>
        <link>https://ttf248.life/en/p/desktop-upgrade-to-25g-network-card-accelerate-lan-interconnection/</link>
        <pubDate>Fri, 10 Jan 2025 00:37:52 +0800</pubDate>
        
        <guid>https://ttf248.life/en/p/desktop-upgrade-to-25g-network-card-accelerate-lan-interconnection/</guid>
        <description>&lt;p&gt;We previously mentioned the PCIe adapter for solid-state drives, so where did the old SSDs go? They weren&amp;rsquo;t wasted; they were removed and installed in the &lt;code&gt;Mechanical Master Creator Mini-3765H&lt;/code&gt; (purchased a year ago)&lt;/p&gt;
&lt;p&gt;The new machine still has impressive hardware specs: 2.5G dual network ports, PCIE4.0, and WiFi6&lt;/p&gt;
&lt;p&gt;Recently moved, and the room doesn&amp;rsquo;t have a separate router for networking. The machines are all connected via wireless network. The ASUS motherboard desktop’s wireless card performance isn’t good enough, or it could be due to the router&amp;rsquo;s wireless access; the upload speed between local area networks is poor, which results in slow speeds between the machines. I purchased a 2.5G network card and installed it on the desktop.&lt;/p&gt;
&lt;p&gt;At this point, all of the motherboard&amp;rsquo;s slots are used up: graphics card, wireless network card, 2.5G network card, and a solid-state drive PCIe adapter&lt;/p&gt;
&lt;h2 id=&#34;network-instructions&#34;&gt;Network instructions
&lt;/h2&gt;&lt;p&gt;The two machines still use the original wireless network card for internet access, but they are directly connected with a network cable, and both ends have 2.5G network cards. How to connect the two machines with a network cable doesn&amp;rsquo;t need much explanation; there are many tutorials online. Remember to disable the firewall. You can choose either machine as the gateway.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;graph TD;
    A[机器1&amp;lt;br&amp;gt;IP: 192.168.4.1&amp;lt;br&amp;gt;子网掩码: 255.255.255.0&amp;lt;br&amp;gt;默认网关: - &amp;lt;br&amp;gt;自动获取DNS] --&amp;gt;|网线直连（2.5G）| B[机器2&amp;lt;br&amp;gt;IP: 192.168.4.2&amp;lt;br&amp;gt;子网掩码: 255.255.255.0&amp;lt;br&amp;gt;默认网关: 192.168.4.1&amp;lt;br&amp;gt;自动获取DNS];
    A --&amp;gt;|无线网卡| Internet;
    B --&amp;gt;|无线网卡| Internet;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;speed-test-of-two-network-segments&#34;&gt;Speed test of two network segments
&lt;/h2&gt;&lt;h3 id=&#34;router-local-area-network&#34;&gt;Router local area network
&lt;/h3&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;C:\Users\core\Desktop\iperf-3.1.3-win32&amp;gt;iperf3.exe -c 192.168.3.237
Connecting to host 192.168.3.237, port 5201
[  4] local 192.168.3.122 port 1656 connected to 192.168.3.237 port 5201
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-1.00   sec  9.17 MBytes  76.7 Mbits/sec
[  4]   1.00-2.00   sec  9.91 MBytes  83.2 Mbits/sec
[  4]   2.00-3.00   sec  8.74 MBytes  73.3 Mbits/sec
[  4]   3.00-4.00   sec  10.2 MBytes  85.2 Mbits/sec
[  4]   4.00-5.00   sec  9.23 MBytes  77.1 Mbits/sec
[  4]   5.00-6.00   sec  8.80 MBytes  73.9 Mbits/sec
[  4]   6.00-7.01   sec  8.00 MBytes  66.8 Mbits/sec
[  4]   7.01-8.00   sec  7.69 MBytes  64.9 Mbits/sec
[  4]   8.00-9.01   sec  9.72 MBytes  81.1 Mbits/sec
[  4]   9.01-10.01  sec  7.63 MBytes  63.6 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-10.01  sec  89.0 MBytes  74.6 Mbits/sec                  sender
[  4]   0.00-10.01  sec  89.0 MBytes  74.6 Mbits/sec                  receiver

iperf Done.
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;direct-lan-connection&#34;&gt;Direct LAN connection
&lt;/h3&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;C:\Users\core\Desktop\iperf-3.1.3-win32&amp;gt;iperf3.exe -c 192.168.4.1
Connecting to host 192.168.4.1, port 5201
[  4] local 192.168.4.2 port 1524 connected to 192.168.4.1 port 5201
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-1.01   sec   178 MBytes  1.48 Gbits/sec
[  4]   1.01-2.00   sec   204 MBytes  1.72 Gbits/sec
[  4]   2.00-3.00   sec   214 MBytes  1.80 Gbits/sec
[  4]   3.00-4.00   sec   229 MBytes  1.92 Gbits/sec
[  4]   4.00-5.00   sec   202 MBytes  1.69 Gbits/sec
[  4]   5.00-6.00   sec   213 MBytes  1.79 Gbits/sec
[  4]   6.00-7.00   sec   230 MBytes  1.93 Gbits/sec
[  4]   7.00-8.00   sec   192 MBytes  1.61 Gbits/sec
[  4]   8.00-9.00   sec   220 MBytes  1.84 Gbits/sec
[  4]   9.00-10.00  sec   230 MBytes  1.93 Gbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-10.00  sec  2.06 GBytes  1.77 Gbits/sec                  sender
[  4]   0.00-10.00  sec  2.06 GBytes  1.77 Gbits/sec                  receiver

iperf Done.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;reference-materials&#34;&gt;Reference materials
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Adding Mermaid Support to Hugo&lt;/li&gt;
&lt;/ul&gt;</description>
        </item>
        <item>
        <title>Why is the speed test result only 100 Mbps for a newly installed Gigabit fiber connection?</title>
        <link>https://ttf248.life/en/p/new-gigabit-fiber-slow-speed/</link>
        <pubDate>Mon, 18 Mar 2024 00:29:02 +0800</pubDate>
        
        <guid>https://ttf248.life/en/p/new-gigabit-fiber-slow-speed/</guid>
        <description>&lt;p&gt;Want your home network to be as fast as lightning? The key lies in understanding the choice of network cables, configuring the optical network terminal and router, and those seemingly insignificant details. This blog will guide you through how to build a Gigabit network with Cat6 Ethernet cable and how to ensure your network speed is not limited by simple device checks and configurations. Let&amp;rsquo;s explore together and make your home internet fly!&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Manual Repair&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;chapter-1-in-depth-analysis-of-network-transmission-media&#34;&gt;Chapter 1: In-Depth Analysis of Network Transmission Media
&lt;/h2&gt;&lt;p&gt;When we talk about achieving gigabit network access, the carrier of information at high speed – the network cable – plays a crucial role. The following will provide a detailed explanation of Cat 5, Cat 6, and Cat 7 cables:&lt;/p&gt;
&lt;h3 id=&#34;cat-5-network-cable&#34;&gt;Cat 5 network cable
&lt;/h3&gt;&lt;p&gt;Category 5 network cables, also known as CAT5, are an early type of twisted-pair cable that uses a precise spiral structure design to reduce crosstalk. It is mainly used for 10/100Mbps fast Ethernet, with a maximum transmission frequency of approximately 100MHz. Although widely used in the past, Category 5 network cables cannot meet current requirements for gigabit and higher speeds due to physical limitations.&lt;/p&gt;
&lt;h3 id=&#34;six-category-ethernet-cable-cat6&#34;&gt;Six-Category Ethernet Cable (CAT6)
&lt;/h3&gt;&lt;p&gt;With the development of technology, Cat6 cabling emerged. Compared to Cat5 cabling, Cat6 cables adopted stricter manufacturing standards and more advanced structural designs, significantly improving anti-interference capabilities and transmission efficiency. They can support a transmission rate of up to 1Gbps and, under ideal conditions, achieve a transmission distance of 100 meters – perfectly meeting the access requirements of Gigabit networks.&lt;/p&gt;
&lt;h3 id=&#34;seven-category-ethernet-cable-cat7&#34;&gt;Seven-Category Ethernet Cable (CAT7)
&lt;/h3&gt;&lt;p&gt;Seven categories of network cable represent the pinnacle of current twisted-pair technology. It not only boasts a significant improvement in transmission rate, theoretically supporting up to 10Gbps of ultra-high speed, but also incorporates a complete shielding system in its design, including shielding between each pair of wires and overall outer layer shielding, thereby greatly reducing external electromagnetic interference and near-end crosstalk, ensuring the stability and accuracy of data transmission. However, seven categories of network cable is mainly used for future 10 Gigabit Ethernet or specific high-demand scenarios.&lt;/p&gt;
&lt;p&gt;When building a Gigabit home network, choosing Cat6 cabling is the most economical and efficient option to fully unleash the potential of the Gigabit fiber. Ensuring that all connecting cables are of qualified quality and strictly following standard wiring practices is also an important link in ensuring network performance.&lt;/p&gt;
&lt;h2 id=&#34;chapter-2-delving-into-network-core-devicesthe-impact-of-optical-network-terminal-ont-and-router-lan-port-bandwidth&#34;&gt;Chapter 2: Delving into Network Core Devices—The Impact of Optical Network Terminal (ONT) and Router LAN Port Bandwidth
&lt;/h2&gt;&lt;h3 id=&#34;the-importance-of-the-optical-network-terminal-and-its-lan-port-bandwidth&#34;&gt;The importance of the optical network terminal and its LAN port bandwidth
&lt;/h3&gt;&lt;p&gt;The Optical Network Terminal (ONT), also known as an optical modem, is the core device for home broadband access. Its function is to convert the light signal from fiber into a digital signal for use by home network devices. For users with gigabit fiber connections, whether the ONT supports gigabit transmission is particularly important. If the ONT&amp;rsquo;s WAN port only supports 100Mbps, even if the fiber-to-the-home rate is higher, it will be limited to within 100Mbps due to this bottleneck. Similarly, the ONT’s LAN port also needs to have gigabit output capabilities; otherwise, routers or other devices connected to it cannot achieve true gigabit speeds.&lt;/p&gt;
&lt;h3 id=&#34;the-role-of-bandwidth-for-the-lan-ports-on-a-router&#34;&gt;The role of bandwidth for the LAN ports on a router
&lt;/h3&gt;&lt;p&gt;The router&amp;rsquo;s LAN port is responsible for distributing received data to various terminal devices. When the router’s LAN port is limited to gigabit speed, even if other equipment is well-configured, it can only achieve gigabit network communication. Therefore, when building a Gigabit home network, ensure that the router’s WAN port can receive Gigabit data and that the LAN port can also provide Gigabit-level output capabilities so that all smart devices in your home can enjoy the smooth experience brought by high-speed networks.&lt;/p&gt;
&lt;p&gt;In addition, it is important to note that some older or low-end routers may have an auto-negotiation mechanism for the LAN port rate. This means that even if the router itself supports gigabit speeds, it may downgrade to 100Mbps mode due to factors such as cabling and device compatibility. Therefore, correctly configuring the router parameters, enabling forced gigabit mode, and using a gigabit switch or direct connection are key steps in achieving an all-gigabit network.&lt;/p&gt;
&lt;p&gt;After upgrading to Gigabit fiber, be sure to check and replace your Optical Network Terminal (ONT) and router with Gigabit devices, ensuring that all device interfaces meet the Gigabit standard&lt;/p&gt;
&lt;h2 id=&#34;chapter-3-the-mystery-of-latency--how-a-broken-thread-can-affect-gigabit-network-speed&#34;&gt;Chapter 3: The Mystery of Latency – How a Broken Thread Can Affect Gigabit Network Speed
&lt;/h2&gt;&lt;h3 id=&#34;subnet-cable-failure-and-network-performance-degradation&#34;&gt;Subnet cable failure and network performance degradation
&lt;/h3&gt;&lt;p&gt;The network remained connected throughout the speed test, with no obvious disconnections. As it&amp;rsquo;s a newly installed broadband connection, the wiring closet is quite cluttered, and I occasionally adjust the fiber modem’s cabling and power outlet location, which has resulted in speeds reaching gigabit on rare occasions.&lt;/p&gt;
&lt;p&gt;Based on the previous information, we analyzed and ruled out various factors such as network cable model and optical modem LAN port speed, ultimately discovering that the culprit was a broken brown internal wire within the network cable&lt;/p&gt;
&lt;p&gt;The reason for the disconnection: When the technician installed the crystal head, they pulled on this network cable a little too hard, causing one of the wires to break in half. It didn&amp;rsquo;t completely disconnect at the time, but subsequent adjustments to the optical modem’s position and repeated movement caused it to finally break.&lt;/p&gt;
&lt;h3 id=&#34;analysis-of-the-functions-of-eight-wires-in-six-categories-of-network-cables&#34;&gt;Analysis of the Functions of Eight Wires in Six Categories of Network Cables
&lt;/h3&gt;&lt;p&gt;Six categories of network cables follow the TIA/EIA-568-B standard, consisting of eight twisted pairs with the following color coding:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;White Orange / Orange&lt;/li&gt;
&lt;li&gt;White and green / Green&lt;/li&gt;
&lt;li&gt;White and blue / Blue&lt;/li&gt;
&lt;li&gt;Tan / Brown&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Under the Gigabit Ethernet (1000BASE-T) standard, four pairs of wires within these eight lines work simultaneously, with the following specific functions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The white-orange and orange pair of wires (1 &amp;amp; 2) are used for sending data (Tx+/–)&lt;/li&gt;
&lt;li&gt;The white-green and green-green pair of wires (3 &amp;amp; 6) are used for receiving data (Rx+/-);&lt;/li&gt;
&lt;li&gt;The white-blue and blue pair (4&amp;amp;5) as well as the white-brown and brown pair (7&amp;amp;8) are not originally designated for use in Gigabit Ethernet, but may be enabled in certain advanced applications (such as partial PoE power supply or future technology extensions). In traditional 100Mbps networks, only the four wires 1, 2, 3, and 6 are actually needed.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;the-impact-of-broken-chains-on-network-speed&#34;&gt;The impact of broken chains on network speed
&lt;/h3&gt;&lt;p&gt;In the above situation, if a brown sub-line (brown or brown-white wire) is broken, it will theoretically cause a speed reduction in a Gigabit network environment because a Gigabit network requires all four pairs of wires to transmit bidirectionally at full speed. However, due to the automatic negotiation function often found in home network devices, when a cable problem is detected, it will revert to a lower rate mode that can operate normally, which is 100Mbps mode. This explains why even with one sub-line broken, the network can remain connected and operate at 100Mbps speed.&lt;/p&gt;
&lt;p&gt;In short, while a broken brown fiber strand does not affect the basic operation of a 100-megabit network, it can be a key factor limiting network speed in a gigabit environment. Only through thorough diagnosis and repair can the full potential of the gigabit fiber optic cable be realized. This also reminds us that when encountering similar situations, we should not overlook any potential network infrastructure issues, even seemingly minor faults that do not affect basic connectivity, as they may become hidden obstacles to high-speed network experiences.&lt;/p&gt;</description>
        </item>
        <item>
        <title>The office relocation caused server inaccessibility</title>
        <link>https://ttf248.life/en/p/office-migration-server-unavailable/</link>
        <pubDate>Sat, 11 Mar 2023 01:42:05 +0800</pubDate>
        
        <guid>https://ttf248.life/en/p/office-migration-server-unavailable/</guid>
        <description>&lt;p&gt;Administrative notice, office relocation. Moving from the original second floor to the fifteenth floor, a routine desk move.&lt;/p&gt;
&lt;h2 id=&#34;sense-of-design&#34;&gt;Sense of design
&lt;/h2&gt;&lt;p&gt;Office building&lt;/p&gt;
&lt;h2 id=&#34;migration&#34;&gt;Migration
&lt;/h2&gt;&lt;p&gt;Packing up and moving on, setting up a new workstation, adjusting computer cables, and starting work in a comfortable position&lt;/p&gt;
&lt;p&gt;Oh no! I connected the network cable, but the server commonly used by our group is inaccessible. I tried switching to a wireless network and it works fine again.&lt;/p&gt;
&lt;p&gt;Initially, I thought it was a server network segment configuration issue. The wired network of the new workstation wasn&amp;rsquo;t on the firewall’s configured list, and contacting IT colleagues to make adjustments should have resolved it. However, this network segment hosts more than one server, and accessing other servers worked fine. This gradually raised my suspicions. Professional matters should be handled by professionals. Eventually, the operations team identified that because this server had &lt;code&gt;docker&lt;/code&gt; deployed, there was a conflict between the default Docker network &lt;code&gt;docker0&lt;/code&gt; and the network segment configured for the office’s wired network. As a result, data packets sent to the server received no response and were routed to the &lt;code&gt;docker&lt;/code&gt; service.&lt;/p&gt;
&lt;p&gt;The other servers don&amp;rsquo;t have &lt;code&gt;docker&lt;/code&gt; deployed, so it’s just this one that I use frequently. I occasionally deploy some test services using containers, and never expected to encounter this situation. Thinking about it more carefully, since the entire group is in the same office building, and the IT department divided network segments using addresses starting with &lt;code&gt;172&lt;/code&gt;, it&amp;rsquo;s not surprising.&lt;/p&gt;
&lt;h2 id=&#34;docker0&#34;&gt;docker0
&lt;/h2&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/docker/daemon.json
{
    &amp;quot;bip&amp;quot;:&amp;quot;172.200.0.1/24&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Restart the service, switch to the new network, and the server will return to normal access&lt;/p&gt;
&lt;h2 id=&#34;reference-materials&#34;&gt;Reference materials
&lt;/h2&gt;&lt;p&gt;Docker from Entry to Practice - docker0&lt;/p&gt;</description>
        </item>
        
    </channel>
</rss>
