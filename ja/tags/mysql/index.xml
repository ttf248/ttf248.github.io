<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Mysql on 向叔の手帳</title>
        <link>https://ttf248.life/ja/tags/mysql/</link>
        <description>Recent content in Mysql on 向叔の手帳</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja</language>
        <lastBuildDate>Sun, 25 May 2025 14:10:37 +0800</lastBuildDate><atom:link href="https://ttf248.life/ja/tags/mysql/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Linuxサーバー、MySQLパスワードリセット</title>
        <link>https://ttf248.life/ja/p/linux-server-reset-mysql-password/</link>
        <pubDate>Tue, 20 Sep 2022 14:27:35 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/linux-server-reset-mysql-password/</guid>
        <description>&lt;p&gt;台に余っているテンセントクラウドのサーバーがあり、年末で契約が満了するので、更新する気もなく、開発用のデータベースとしてMySQLをデプロイしました。OSを再インストールした際、手間を省くため、テンセントクラウドが提供しているサードパーティ製のイメージを選択し、MySQLデータベースはすでにインストールされていました。システム内にReadmeのようなファイルがデフォルトで付属しているだろうと予想していたのですが、パスワードやデプロイメントパスなどが記載されていないようです。&lt;/p&gt;
&lt;p&gt;テンスンクラウドのシステムを再インストールすると、すぐに、1分くらいで再インストール完了の通知が来る。ログインして &lt;code&gt;systemctl status mysql&lt;/code&gt; サービスを確認すると起動している。パスワードはどこにあるか探したが見つからない。徐々に落ち込んでいく。&lt;/p&gt;
&lt;p&gt;そのように考えていると、すでにサーバーにアクセスし、&lt;code&gt;root&lt;/code&gt;権限を持っているのだから、きっとパスワードをリセットする方法はあるはずだ。資料を調べてみると、アリババクラウドのフォーラムに投稿があり、さらに試してみることにした。&lt;/p&gt;
&lt;h2 id=&#34;パスワードリセット&#34;&gt;パスワードリセット
&lt;/h2&gt;&lt;p&gt;設定ファイルを編集します。&lt;code&gt;vim /etc/my.cnf&lt;/code&gt;、&lt;code&gt;mysqld&lt;/code&gt;ノードに以下の設定を追加します。&lt;code&gt;skip-grant-tables&lt;/code&gt;、コマンドを実行してデータを再起動します。&lt;code&gt;systemctl restart mysql&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;再利用&lt;code&gt;mysql&lt;/code&gt;で直接データにログインし、あとは通常通り操作します。&lt;code&gt;root&lt;/code&gt;ユーザーのパスワードをリセットし、ついでにリモートログインを有効にします。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;USE mysql;
UPDATE user SET authentication_string = password (&#39;pass&#39;) WHERE User = &#39;root&#39;;
grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;pass&#39; with grant option;
flush privileges;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;設定ファイルを戻して変更し、データベースを再起動すれば大丈夫です。&lt;/p&gt;
&lt;h2 id=&#34;参照資料&#34;&gt;参照資料
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://help.aliyun.com/document_detail/42520.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://help.aliyun.com/document_detail/42520.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
        </item>
        
    </channel>
</rss>
