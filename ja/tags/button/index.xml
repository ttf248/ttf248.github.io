<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Button on 向叔の手帳</title>
        <link>https://ttf248.life/ja/tags/button/</link>
        <description>Recent content in Button on 向叔の手帳</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja</language>
        <lastBuildDate>Sun, 01 Jun 2025 15:38:14 +0800</lastBuildDate><atom:link href="https://ttf248.life/ja/tags/button/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>単なる簡単なことに追加のコードコピーボタンを実装する</title>
        <link>https://ttf248.life/ja/p/add-code-copy-button/</link>
        <pubDate>Fri, 25 Feb 2022 01:23:39 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/add-code-copy-button/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;「ouuan」を４時間も調べて、その時この文章を見ていると、まだ爆笑していたのですが、どうしてこんなに時間がかかったのでしょうか。最後に時間を調べると３時間でした。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;これは2022年の年初に書いた最初の記事で、扱うべきことは単純なもので、タイトル通り完全に同じ内容（その頃の私はまだ若かった）を書き、&lt;a class=&#34;link&#34; href=&#34;https://ouuan.github.io/post/from-hexo-to-hugo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;作业&lt;/a&gt; をそのままコピー＆ペーストしてブックマークに入れて、しばらく放置していた。ようやくこの件を思い出したのだ。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hugo&lt;/code&gt; への移行時にプラグインが少なすぎるのに気づき、コードをコピーできず、多くのメモを印象派からブログに移行する際に、コードのコピー＆ペースト作業が煩雑になり、私の水面ブログのモチベーションを著しく低下させてしまった。&lt;/p&gt;
&lt;h2 id=&#34;序章&#34;&gt;序章
&lt;/h2&gt;&lt;p&gt;まず、原作者の稿をじっくりと見直し、通読し、作者紹介も確認します。うわー、すごい大佬だ！清華大学で学んでいる学部生で、昔からコンピュータに触れているんだ。なるほど、クールなやつだ。まずはこのブログを見てみよう。自分が何をすべきか全く覚えていない。
それに加えて、作者の&lt;code&gt;Github&lt;/code&gt;リポジトリも確認し、この修正された&lt;code&gt;even&lt;/code&gt;テーマは今のものよりずっと見栄えが良く、新機能も豊富だ。早速取り掛かり、関連コードをマージしよう。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ttf248.life/p/add-copy-button-for-simple-task/2022-02-25-02-08-19.png&#34;
	width=&#34;215&#34;
	height=&#34;150&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;143&#34;
		data-flex-basis=&#34;344px&#34;
	
&gt; &lt;img src=&#34;https://ttf248.life/p/add-copy-button-for-simple-task/2022-02-25-02-08-40.png&#34;
	width=&#34;217&#34;
	height=&#34;167&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;129&#34;
		data-flex-basis=&#34;311px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;新機能記事の履歴表示関連提出記録の確認&#34;&gt;新機能：記事の履歴表示、関連提出記録の確認
&lt;/h3&gt;&lt;p&gt;効果はなかなか良く、記事末尾にスクロールするだけで体験できます。&lt;/p&gt;
&lt;p&gt;手動操作前に作者の元のリポジトリの履歴を確認していなかったので、簡単なマージで済むと思っていましたが、最終的に大量のコードをマージし、その中に衝突やN回の巻き戻しが発生。無脑覆盖（強制上書き）が、全てフロントエンドとレンダリングのテンプレートコードであり、私が使用するものを基準にしました。&lt;/p&gt;
&lt;p&gt;リポジトリURL：&lt;a class=&#34;link&#34; href=&#34;https://github.com/TianlongXiang/hugo-theme-even&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/TianlongXiang/hugo-theme-even&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;中国語の罠です。&lt;code&gt;git&lt;/code&gt;でこのパラメータを調整しないと、生成時に現在の記事の&lt;code&gt;commit hash&lt;/code&gt;を取得できず、履歴リンクが生成に失敗します。完全な記事履歴を生成する際も、自動統合スクリプトを修正し、必ず現在のリポジトリ全体の履歴をプルしてください。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[feat: 完全に GitHub リポジトリを拉取して、記事の最終変更履歴を動的に更新](&lt;a class=&#34;link&#34; href=&#34;https://github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;新機能記事の履歴の確認関連する提出記録の表示&#34;&gt;新機能：記事の履歴の確認、関連する提出記録の表示
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/TianlongXiang/TianlongXiang.github.io/commit/1b5d719966737f16a8c67880370dc2722adea0b3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;chore: 経路が中国語で、hugo GitInfo はこの設定を有効にする必要がある&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;スタイル調整&#34;&gt;スタイル調整
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;サイトコンテンツの幅を調整します。以前のデザインはモバイル端末とPC向けでしたが、実際にはスマホで見る人は少なく、自分自身もPCで見ていました。&lt;/li&gt;
&lt;li&gt;目次バーを自動伸縮するように変更します。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本文&#34;&gt;本文
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;ouuan&lt;/code&gt;のコード記録を参考に半時間以上見ても、増やすコピーボタンがどうすればいいのかよく理解できなかった。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;時光穿梭，一月之后，又想到这事&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;本文-1&#34;&gt;本文
&lt;/h2&gt;&lt;p&gt;この課題が理解できなかったので、別の課題をコピーして、やっと意味がわかった。検索で見つけた結果は予想以上に役に立ちました。&lt;code&gt;hugo&lt;/code&gt;公式フォーラムに、コピーボタンを追加する方法についての投稿がありました。そこを調べてみると、論理が非常に明確でした。混乱していたことが、ようやくわかりました。元のサイトに戻って見ると、&lt;code&gt;even&lt;/code&gt;レンダリングで生成されたコードブロックのスタイルと資料の説明が異なっているため、この部分は少し複雑です。簡単に記録しておきます。&lt;/p&gt;
&lt;p&gt;基本的にはフロントエンド開発を知らないので、わからないことはブラウザの「要素を検査」ツールを開いて、コードを分析し、右側のスタイル情報を見ながら、少しずつ理解していきました。「JavaScript」は理解できませんでしたが、コンソールにログを追加しました。最初は多くのことがわからず、落ち着いて、徐々に論理を整理・分解していき、必ず道筋が見つかります。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pre&lt;/code&gt;ノードが複数あり、ここでは個別のコードブロックを指します。テーマが1行表示をレンダリングし、コピーボタンが2つ表示される原因です。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;自体テーマのコードハイライトを無効化したいのですが、テーマ設定に詳しくありません。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hugo&lt;/code&gt;公式サイトで資料を参照し、ある程度理解しました。&lt;code&gt;markup&lt;/code&gt;設定を使用してコードハイライトを制御できることがわかりました。&lt;/li&gt;
&lt;li&gt;設定ファイルを調整しても相変わらず問題が解決しません。レンダリング結果と期待値が一致しません。&lt;/li&gt;
&lt;li&gt;このような設定の塊である&lt;code&gt;pygmentsOptions&lt;/code&gt;を発見し、さらに資料を調べて設定を調整しました。まず行番号を削除しました。&lt;/li&gt;
&lt;li&gt;カスタムCSSスタイルシートとカスタムJavaScriptスクリプトを設定しました。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本文-2&#34;&gt;本文
&lt;/h2&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;既然都做了这么多事情，突然想到最近看到的配色图不错，改改按钮的样式：中国风天青色走起&lt;/li&gt;
&lt;/ol&gt;
&lt;img class=&#34;special-img-class&#34; style=&#34;width:20%&#34; src=&#34;2022-02-25-02-01-22.png&#34; /&gt;
&lt;img class=&#34;special-img-class&#34; style=&#34;width:20%&#34; src=&#34;2022-02-25-02-01-33.png&#34; /&gt;
ouuan 弄了四个小时，看到这句话的时候，我还觉得好笑，怎么可能这么久？最后一看时间：三个小时。
&lt;h2 id=&#34;参照リンク&#34;&gt;参照リンク
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://ouuan.github.io/post/from-hexo-to-hugo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ouuan.github.io/post/from-hexo-to-hugo/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://gohugobrasil.netlify.app/content-management/syntax-highlighting/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gohugobrasil.netlify.app/content-management/syntax-highlighting/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://gohugo.io/getting-started/configuration-markup#highlight&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gohugo.io/getting-started/configuration-markup#highlight&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;参考リンク&#34;&gt;参考リンク
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.dannyguo.com/blog/how-to-add-copy-to-clipboard-buttons-to-code-blocks-in-hugo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.dannyguo.com/blog/how-to-add-copy-to-clipboard-buttons-to-code-blocks-in-hugo/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
        </item>
        
    </channel>
</rss>
