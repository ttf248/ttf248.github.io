<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>文字コード on 向叔の手帳</title>
        <link>https://ttf248.life/ja/tags/%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89/</link>
        <description>Recent content in 文字コード on 向叔の手帳</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja</language>
        <lastBuildDate>Sun, 01 Jun 2025 15:38:14 +0800</lastBuildDate><atom:link href="https://ttf248.life/ja/tags/%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Visual Studio コンパイル文字セット [転送]</title>
        <link>https://ttf248.life/ja/p/visual-studio-compilation-character-set-translation/</link>
        <pubDate>Thu, 04 Aug 2022 10:51:43 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/visual-studio-compilation-character-set-translation/</guid>
        <description>&lt;p&gt;C++をクロスプラットフォームで開発する際、中国のオペレーティングシステムではよく遭遇するエラーは、&lt;code&gt;error C2001&lt;/code&gt;（定数に改行文字が含まれています）です。&lt;/p&gt;
&lt;h2 id=&#34;visual-studio&#34;&gt;Visual Studio
&lt;/h2&gt;&lt;p&gt;CMakeはプロジェクトのコンパイルスクリプトを組織し、Windows環境での開発時に一時的にソリューションファイルを生成します。クロスプラットフォームである理由として、ファイルエンコーディングにUTF-8を選択しています。&lt;/p&gt;
&lt;p&gt;引用資料では、問題の原因について原理に基づき詳細な説明が提供されています。&lt;/p&gt;
&lt;p&gt;エンコーディングに関して、MSVCにはコンパイルオプション&lt;code&gt;/source-charset&lt;/code&gt;と&lt;code&gt;/execution-charset&lt;/code&gt;があり、前者はファイルのエンコーディングを、後者はコンパイル後のバイトコードのエンコーディングを指定します。これらのオプションを使用することで、エンコーディングの問題は基本的に解決できます。&lt;/p&gt;
&lt;p&gt;例えば、WindowsのcmdコマンドプロンプトがデフォルトでGBKエンコーディングしか表示できない場合でも、ソースファイル自体がUTF-8であるため、クロスプラットフォームの理由と、直接GBKに変換する変更を加えることの難しさから、異なるプラットフォーム向けのエンコーディング変換コードを書くことは現実的ではありません。 Windows 10 では、これらのコンパイルオプションを &lt;code&gt;/source-charset:utf-8 /execution-charset:gbk&lt;/code&gt; に設定することで、コンパイラが UTF-8 エンコーディングでソースコードを読み込み、その後 GBK エンコーディングで配列に保存します。これにより、直接 &lt;code&gt;printf&lt;/code&gt; を使用して cmd コントロールパネルで漢字を表示できます。&lt;/p&gt;
&lt;h2 id=&#34;visual-studio-用の設定における-cmake&#34;&gt;Visual Studio 用の設定における CMake
&lt;/h2&gt;&lt;h2 id=&#34;参考文献&#34;&gt;参考文献
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhaolan.zhihu.com/p/146543940&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://zhaolan.zhihu.com/p/146543940&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
