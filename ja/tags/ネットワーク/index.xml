<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>ネットワーク on 向叔の手帳</title>
        <link>https://ttf248.life/ja/tags/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF/</link>
        <description>Recent content in ネットワーク on 向叔の手帳</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja</language>
        <lastBuildDate>Sun, 25 May 2025 14:10:37 +0800</lastBuildDate><atom:link href="https://ttf248.life/ja/tags/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>デスクトップを2.5Gネットワークカードにアップグレードし、ローカルエリアネットワークの接続を高速化</title>
        <link>https://ttf248.life/ja/p/desktop-upgrade-to-25g-network-card-accelerate-lan-interconnection/</link>
        <pubDate>Fri, 10 Jan 2025 00:37:52 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/desktop-upgrade-to-25g-network-card-accelerate-lan-interconnection/</guid>
        <description>&lt;p&gt;デスクトップPCのハードウェア関連製品が立て続けに登場、前回の記事ではPCIe変換アダプターについて触れましたが、古いSSDはどうなったのでしょうか？もちろん無駄にはしていません。故障もなく、一年前に購入した&lt;code&gt;メカニズムクリエイターMini-3765H&lt;/code&gt;（機械師）に取り付けました。&lt;/p&gt;
&lt;p&gt;新しい機械、ハードウェアのスペックはやはり素晴らしいです。2.5Gデュアルネットワークポート、PCIE4.0、Wi-Fi 6。&lt;/p&gt;
&lt;p&gt;最近引っ越したばかりで、部屋に個別のルーターがなかったので、機器はすべて無線ネットワークに接続していました。ASUSのマザーボード搭載のデスクトップPCの無線LANカードの性能が悪かったのかもしれませんし、ルーターの無線アクセスやローカルネットワーク間のアップロード速度が悪いことが原因で、PC間の通信速度が良くありませんでした。そこで新しい2.5GのNICを購入して、デスクトップPCに取り付けました。&lt;/p&gt;
&lt;p&gt;マザーボードの拡張スロットはこれですべて埋まりました：グラフィックカード、ワイヤレスLANカード、2.5Gネットワークカード、SSD用のPCIEアダプター。&lt;/p&gt;
&lt;h2 id=&#34;ネットワーク説明&#34;&gt;ネットワーク説明
&lt;/h2&gt;&lt;p&gt;２台の機器は引き続き元の無線LANカードでインターネットに接続していますが、両者は有線で直接接続され、両端とも2.5Gのネットワークカードです。有線を介して２台の機器を直接接続する方法については、ここでは詳しく説明しません。オンラインには多くのチュートリアルがありますので、参考にしてください。ファイアウォールも忘れずに開放し、どちらか１台をゲートウェイとして設定してください。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;graph TD;
    A[机器1&amp;lt;br&amp;gt;IP: 192.168.4.1&amp;lt;br&amp;gt;子网掩码: 255.255.255.0&amp;lt;br&amp;gt;默认网关: - &amp;lt;br&amp;gt;自动获取DNS] --&amp;gt;|网线直连（2.5G）| B[机器2&amp;lt;br&amp;gt;IP: 192.168.4.2&amp;lt;br&amp;gt;子网掩码: 255.255.255.0&amp;lt;br&amp;gt;默认网关: 192.168.4.1&amp;lt;br&amp;gt;自动获取DNS];
    A --&amp;gt;|无线网卡| Internet;
    B --&amp;gt;|无线网卡| Internet;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;二つのネットワークセグメントの速度測定&#34;&gt;二つのネットワークセグメントの速度測定
&lt;/h2&gt;&lt;h3 id=&#34;ルーターローカルエリアネットワーク&#34;&gt;ルーター、ローカルエリアネットワーク
&lt;/h3&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;C:\Users\core\Desktop\iperf-3.1.3-win32&amp;gt;iperf3.exe -c 192.168.3.237
Connecting to host 192.168.3.237, port 5201
[  4] local 192.168.3.122 port 1656 connected to 192.168.3.237 port 5201
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-1.00   sec  9.17 MBytes  76.7 Mbits/sec
[  4]   1.00-2.00   sec  9.91 MBytes  83.2 Mbits/sec
[  4]   2.00-3.00   sec  8.74 MBytes  73.3 Mbits/sec
[  4]   3.00-4.00   sec  10.2 MBytes  85.2 Mbits/sec
[  4]   4.00-5.00   sec  9.23 MBytes  77.1 Mbits/sec
[  4]   5.00-6.00   sec  8.80 MBytes  73.9 Mbits/sec
[  4]   6.00-7.01   sec  8.00 MBytes  66.8 Mbits/sec
[  4]   7.01-8.00   sec  7.69 MBytes  64.9 Mbits/sec
[  4]   8.00-9.01   sec  9.72 MBytes  81.1 Mbits/sec
[  4]   9.01-10.01  sec  7.63 MBytes  63.6 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-10.01  sec  89.0 MBytes  74.6 Mbits/sec                  sender
[  4]   0.00-10.01  sec  89.0 MBytes  74.6 Mbits/sec                  receiver

iperf Done.
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ダイレクトlan&#34;&gt;ダイレクトLAN
&lt;/h3&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;C:\Users\core\Desktop\iperf-3.1.3-win32&amp;gt;iperf3.exe -c 192.168.4.1
Connecting to host 192.168.4.1, port 5201
[  4] local 192.168.4.2 port 1524 connected to 192.168.4.1 port 5201
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-1.01   sec   178 MBytes  1.48 Gbits/sec
[  4]   1.01-2.00   sec   204 MBytes  1.72 Gbits/sec
[  4]   2.00-3.00   sec   214 MBytes  1.80 Gbits/sec
[  4]   3.00-4.00   sec   229 MBytes  1.92 Gbits/sec
[  4]   4.00-5.00   sec   202 MBytes  1.69 Gbits/sec
[  4]   5.00-6.00   sec   213 MBytes  1.79 Gbits/sec
[  4]   6.00-7.00   sec   230 MBytes  1.93 Gbits/sec
[  4]   7.00-8.00   sec   192 MBytes  1.61 Gbits/sec
[  4]   8.00-9.00   sec   220 MBytes  1.84 Gbits/sec
[  4]   9.00-10.00  sec   230 MBytes  1.93 Gbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-10.00  sec  2.06 GBytes  1.77 Gbits/sec                  sender
[  4]   0.00-10.00  sec  2.06 GBytes  1.77 Gbits/sec                  receiver

iperf Done.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;参照資料&#34;&gt;参照資料
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;HugoにMermaidのサポートを追加する&lt;/li&gt;
&lt;/ul&gt;</description>
        </item>
        <item>
        <title>新規に敷設されたギガビット回線、なぜ速度測定では100メガのみ？</title>
        <link>https://ttf248.life/ja/p/new-gigabit-fiber-slow-speed/</link>
        <pubDate>Mon, 18 Mar 2024 00:29:02 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/new-gigabit-fiber-slow-speed/</guid>
        <description>&lt;p&gt;家庭のネットワークを稲妻のように高速にしたいですか？ 鍵は、LANケーブルの選択、ONU（光回線終端装置）とルーターの設定、そして些細に見える小さな工夫を理解することです。 このブログでは、6類LANケーブルでギガビットネットワークを構築する方法や、簡単なデバイスチェックと設定によってネットワーク速度に制限がないようにするための方法を分かりやすく解説します。 さあ、一緒に探求して、家庭のインターネット回線を高速化させましょう！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;手動修復&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;第1章ネットワーク伝送媒体の徹底分析&#34;&gt;第1章：ネットワーク伝送媒体の徹底分析
&lt;/h2&gt;&lt;p&gt;ギガビットネットワーク接続を実現するときの、情報高速伝送を支える媒体であるLANケーブルの役割は非常に重要です。以下に、カテゴリー5、カテゴリー6、カテゴリー7のLANケーブルについて詳しく解説します。&lt;/p&gt;
&lt;h3 id=&#34;カテゴリー5ケーブル-cat5&#34;&gt;カテゴリー5ケーブル (CAT5)
&lt;/h3&gt;&lt;p&gt;5種類のLANケーブル、別名CAT5は、比較的初期に普及したツイストペアケーブルの一種で、各芯線が精密な螺旋構造によって設計され、クロストークを低減しています。主に10/100Mbpsの高速イーサネットに適しており、最大伝送周波数はおよそ100MHzです。過去には広く利用されていましたが、現在のギガビット以上の速度に対応するニーズに対しては、物理的な限界から5種類のLANケーブルでは要求を満たすことができません。&lt;/p&gt;
&lt;h3 id=&#34;カテゴリー6ケーブル&#34;&gt;カテゴリー6ケーブル
&lt;/h3&gt;&lt;p&gt;技術の発展に伴い、カテゴリー6ケーブルが登場しました。カテゴリー5ケーブルと比較して、カテゴリー6ケーブルはより厳格な製造基準と高度な構造設計を採用しており、耐干渉性と伝送効率が大幅に向上しています。1Gbpsまでのデータ転送速度をサポートし、理想的な条件下では100メートルの伝送距離を実現します。これはまさにギガビットネットワークのアクセスニーズに合致しています。&lt;/p&gt;
&lt;h3 id=&#34;カテゴリー7ケーブル-cat7&#34;&gt;カテゴリー7ケーブル (CAT7)
&lt;/h3&gt;&lt;p&gt;カテゴリー7のケーブルは、現在のツイストペア技術における最高水準を示しています。これは、伝送速度が飛躍的に向上しているだけでなく、理論上は最大10Gbpsの超高速をサポートし、さらに設計に完全なシールドシステムを採用しており、各線対間のシールドと全体の外側のシールドを含み、外部からの電磁干渉や近接クロストークを大幅に低減することで、データ転送の安定性と正確性を確保しています。ただし、カテゴリー7ケーブルは主に将来の10ギガビットイーサネットまたは特定の高要求なシナリオで使用されます。&lt;/p&gt;
&lt;p&gt;ギガホームネットワーク環境を構築する際、ギガファイバーの潜在能力を最大限に引き出すためには、カテゴリー6ケーブルを選択することが最も経済的かつ効率的な選択です。同時に、すべての接続ケーブルの品質が適切であることを確認し、厳密に標準的な配線方法に従って操作することも、ネットワーク性能を確保するための重要な要素となります。&lt;/p&gt;
&lt;h2 id=&#34;第2章ネットワークの中枢機器における影響onuルーターのlanポート帯域幅の影響&#34;&gt;第2章：ネットワークの中枢機器における影響—ONU、ルーターのLANポート帯域幅の影響
&lt;/h2&gt;&lt;h3 id=&#34;光猫とlanポートの帯域幅の重要性&#34;&gt;光猫とLANポートの帯域幅の重要性
&lt;/h3&gt;&lt;p&gt;光ネコ（こうねこ）、正式名称は光ファイバーモデムであり、家庭ブロードバンド接続の中核となる機器です。その機能は、光ファイバー内の光信号をデジタル信号に変換し、家庭内ネットワーク機器が利用できるようにすることです。ギガビット光ファイバーユーザーにとって、光ネコがギガビット伝送に対応しているかどうかは特に重要です。光ネコのWANポートがギガビットに対応していない場合、戸別線路の光ファイバー速度がどれだけ高くても、このボトルネックによって100Mbps以内に制限されてしまいます。同様に、光ネコのLANポートもギガビット出力能力を備えている必要があります。そうでなければ、接続されたルーターやその他のデバイスは、真のギガビット速度を得ることができません。&lt;/p&gt;
&lt;h3 id=&#34;ルーターのlanポート帯域幅の役割&#34;&gt;ルーターのLANポート帯域幅の役割
&lt;/h3&gt;&lt;p&gt;ルーターのLANポートは、受信したデータを各端末デバイスに配信する役割を担います。ルーターのLANポートが100Mbpsの場合、他の機器の設定が再調整しても、100Mbpsの速度しか実現できないローカルエリアネットワーク通信となります。したがって、ギガホームネットワークを構築する際には、ルーターのWANポートがギガデータを受信できること、そしてLANポートもギガレベルのデータ出力能力を提供できるようにすることが重要です。そうすることで初めて、家庭内のすべてのスマートデバイスが高速ネットワークが生み出す快適な体験を享受できます。&lt;/p&gt;
&lt;p&gt;さらに注意すべき点として、一部の古いまたは低価格帯のルーターにはLANポートの自動速度ネゴシエーション機能が存在する場合があります。これは、ルーター自体がギガビットに対応していても、ケーブルやデバイスの互換性の問題などにより、100Mbpsモードに降格することがあるということです。したがって、ルーターの設定を適切に行い、強制ギガビットモードを有効にし、ギガビットスイッチまたは直接接続されたデバイスと組み合わせることが、全ギガビットネットワークを実現するための重要なステップの一つです。&lt;/p&gt;
&lt;p&gt;アップグレードをギガ光ファイバーに移行後、必ずギガ光回線終端装置（ONU）およびギガルーターに交換し、すべてのデバイスインターフェースがギガビットレベルに達していることを確認してください。&lt;/p&gt;
&lt;h2 id=&#34;第3章隠された謎一本途切れられたサブケーブルがテラビットネットワークにどのように影響するか&#34;&gt;第3章：隠された謎—一本途切れられたサブケーブルがテラビットネットワークにどのように影響するか
&lt;/h2&gt;&lt;h3 id=&#34;海底ケーブルの障害とネットワークパフォーマンスの低下&#34;&gt;海底ケーブルの障害とネットワークパフォーマンスの低下
&lt;/h3&gt;&lt;p&gt;測速期間中、ネットワークは常に接続されており、明確な断線は見られませんでした。新しく導入された回線のため、配電盤内が散らかっており、光モデムのケーブルや電源コンセントの位置を時々調整しているため、稀にギガビットまで速度が出ることがあります。&lt;/p&gt;
&lt;p&gt;先行きの資料に基づき、ケーブルの種類や光回線終端装置のLAN口の速度を分析・検証した結果、ついに原因がケーブル内部の茶色のサブワイヤーの断線であることが判明しました。&lt;/p&gt;
&lt;p&gt;設置の際に、水晶頭を取り付ける職人がこのLANケーブルを少し強く引っ張ったことが原因で、中の細い線が半分ほど切れていました。完全に断ち切られてはいなかったものの、その後、光モデムの位置を何度も調整するたびに移動させることが続き、最終的に完全に断裂しました。&lt;/p&gt;
&lt;h3 id=&#34;6種類のlanケーブルの8本の線の機能解説&#34;&gt;6種類のLANケーブルの8本の線の機能解説
&lt;/h3&gt;&lt;p&gt;カテゴリー6のLANケーブルは、TIA/EIA-568-B規格に準拠しており、8本のツイストペア線を持ち、カラーコードは以下の通りです。&lt;/p&gt;
&lt;p&gt;白橙 / 橙
白緑 / 緑
白藍／藍
白茶 / ほうじ茶&lt;/p&gt;
&lt;p&gt;ギガビットイーサネット（1000BASE-T）の規格において、この8本のケーブルのうち4対が同時に動作し、それぞれ以下の役割を担っています。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;白橙と橙のこのペアの線（1&amp;amp;2）は、データ送信（Tx+/-）に使用されます。&lt;/li&gt;
&lt;li&gt;白緑と緑のこのペア（3&amp;amp;6）は、データ受信（Rx+/-）に使用されます。&lt;/li&gt;
&lt;li&gt;白藍と青のペア（4&amp;amp;5）および白茶と茶のペア（7&amp;amp;8）は、ギガビットイーサネットでは通常はメインで使用されませんが、一部の高機能アプリケーション（例えば、特定のPoE給電や将来的な技術拡張など）において有効になる可能性があります。一方、従来の100Mbpsネットワークでは、1, 2, 3, 6の4本の線を使用するだけで十分です。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;切断されたファイバーがネットワーク速度に与える影響&#34;&gt;切断されたファイバーがネットワーク速度に与える影響
&lt;/h3&gt;&lt;p&gt;上記の状況において、もし茶色のサブケーブル（茶線または茶白線）が断線した場合、理論上はギガビットネットワーク環境では確かに速度低下が生じます。なぜならギガビットネットワークは全速を実現するために、4対の線全てで双方向通信を行う必要があるからです。しかしながら、家庭用ネットワーク機器にはオートネゴシエーション機能が備わっていることが多く、ケーブルに問題が発生した際に、正常動作する低いレートモード、つまり100Mbpsモードに切り替えます。これにより、サブケーブルが断線してもネットワークが接続され続け、100Mbpsの速度で動作することが説明できます。&lt;/p&gt;
&lt;p&gt;要言えば、単一の茶色のサブファイバーが切断されても、100Gbpsネットワークの基本的な動作には影響しませんが、ギガビットネットワーク環境下では、それがネットワーク速度を制限する重要な要因となり得ます。徹底的な診断と修復を行うことで初めて、ギガ光ファイバーの潜在能力を最大限に発揮できます。これも、同様の問題に遭遇した場合、一見すると基本的な接続に影響がないように見える小さな故障であっても、潜在的なネットワークインフラストラクチャの問題を無視してはならないことを示唆しています。そうした些細な問題が、高速ネットワーク体験の隠れた障害となる可能性があるからです。&lt;/p&gt;</description>
        </item>
        <item>
        <title>オフィス移転のため、サーバーにアクセスできません。</title>
        <link>https://ttf248.life/ja/p/office-migration-server-unavailable/</link>
        <pubDate>Sat, 11 Mar 2023 01:42:05 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/office-migration-server-unavailable/</guid>
        <description>&lt;p&gt;周知いたします。オフィスが変更になり、元の2階から15階へ移転します。これは通常の席の移動です。&lt;/p&gt;
&lt;h2 id=&#34;デザイン性&#34;&gt;デザイン性
&lt;/h2&gt;&lt;p&gt;オフィスビル&lt;/p&gt;
&lt;h2 id=&#34;移動&#34;&gt;移動
&lt;/h2&gt;&lt;p&gt;退社して荷物をまとめて、慣れた手つきで新しい席へ。パソコンの配線を整えて、楽な姿勢で作業開始。&lt;/p&gt;
&lt;p&gt;（´д`||）！、ネットケーブルを繋いでみたけど、チームでよく使うサーバーにアクセスできない。無線ネットワークに切り替えたら、またアクセスできるようになった。&lt;/p&gt;
&lt;p&gt;当初はサーバーのネットワークセグメント設定の問題かと思った。新しい作業場所の有線ネットワークが、ファイアウォールの設定リストに登録されていないだけだろうと。IT担当者に連絡して調整すれば良いはずだ。しかし、このネットワークセグメントには一台のサーバーだけでなく、他のサーバーにもアクセスしてみると正常だったため、徐々に疑問が生じた。専門的なことは専門の人に任せることにし、最終的に運用部門の担当者が調査した結果、このサーバーが&lt;code&gt;docker&lt;/code&gt;をデプロイしていたために、サービスのデフォルトネットワーク&lt;code&gt;docker0&lt;/code&gt;とオフィス有線ネットワークの設定セグメントが衝突しており、送信されたデータパケットが応答を受け取れずに&lt;code&gt;docker&lt;/code&gt;サービスにルーティングされてしまっていたことが判明した。&lt;/p&gt;
&lt;p&gt;他のサーバーには&lt;code&gt;docker&lt;/code&gt;サービスはデプロイされていないので、この台だけが利用できており、よく使う。時々コンテナでテストサービスをデプロイすることもあるが、まさかこんな状況に遭遇するとは思いもよらなかった。後で考えると、グループ全体が同じオフィスビルに入っているため、IT部門の同僚がネットワークセグメントを分けて&lt;code&gt;172&lt;/code&gt;から始まるアドレスを使っているのも不思議ではない。&lt;/p&gt;
&lt;h2 id=&#34;docker0&#34;&gt;docker0
&lt;/h2&gt;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/docker/daemon.json
{
    &amp;quot;bip&amp;quot;:&amp;quot;172.200.0.1/24&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;サービスを再起動し、新しいネットワークに切り替えると、サーバーは通常通りアクセスできるようになります。&lt;/p&gt;
&lt;h2 id=&#34;参照資料&#34;&gt;参照資料
&lt;/h2&gt;&lt;p&gt;Docker 入門から実践 - docker0&lt;/p&gt;</description>
        </item>
        
    </channel>
</rss>
