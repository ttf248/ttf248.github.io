<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Blog on 向叔の手帳</title>
        <link>https://ttf248.life/ja/tags/blog/</link>
        <description>Recent content in Blog on 向叔の手帳</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ja</language>
        <lastBuildDate>Mon, 02 Jun 2025 19:00:25 +0800</lastBuildDate><atom:link href="https://ttf248.life/ja/tags/blog/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>単なる簡単なことに追加のコードコピーボタンを実装する</title>
        <link>https://ttf248.life/ja/p/add-copy-button-for-simple-task/</link>
        <pubDate>Fri, 25 Feb 2022 01:23:39 +0800</pubDate>
        
        <guid>https://ttf248.life/ja/p/add-copy-button-for-simple-task/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;「ouuan」を４時間も調べて、その時この文章を見ていると、まだ爆笑していたのですが、どうしてこんなに時間がかかったのでしょうか。最後に時間を調べると３時間でした。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;これは2022年の年初に書いた最初の記事で、扱うべきことは単純なもので、タイトルにある通り完全に同じ内容（その頃の私はまだ若かった）を書き、&lt;a class=&#34;link&#34; href=&#34;https://ouuan.github.io/post/from-hexo-to-hugo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;作业&lt;/a&gt; をコピーしてブックマークに入れて、しばらく放置していた。ようやくこの件を思い出したのだ。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hugo&lt;/code&gt; に移行する際、プラグインが少なすぎるため、コードをコピーできず、多くのメモを印象派からブログに移行する際に、コードをコピーする作業が煩雑になり、私の水面ブログのモチベーションを著しく妨げた。&lt;/p&gt;
&lt;h2 id=&#34;序章&#34;&gt;序章
&lt;/h2&gt;&lt;p&gt;まず、原作者の稿をじっくりと見直し、通読し、作者紹介も確認します。うわー、すごい大佬だ！清華大学で学んでいる学部生で、昔からコンピュータに触れているんだ。なるほど、クールなやつだ。まずはこのブログを見てみよう。自分が何をすべきか全く覚えていない。
それに加えて、作者の&lt;code&gt;Github&lt;/code&gt;リポジトリも確認する。この修正された&lt;code&gt;even&lt;/code&gt;テーマは今のものよりずっと見栄えが良く、新機能も豊富だ。早速取り掛かり、関連コードをマージしよう。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ttf248.life/p/add-copy-button-for-simple-task/2022-02-25-02-08-19.png&#34;
	width=&#34;215&#34;
	height=&#34;150&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;143&#34;
		data-flex-basis=&#34;344px&#34;
	
&gt; &lt;img src=&#34;https://ttf248.life/p/add-copy-button-for-simple-task/2022-02-25-02-08-40.png&#34;
	width=&#34;217&#34;
	height=&#34;167&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;129&#34;
		data-flex-basis=&#34;311px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;新機能記事の履歴表示関連提出記録の確認&#34;&gt;新機能：記事の履歴表示、関連提出記録の確認
&lt;/h3&gt;&lt;p&gt;効果はなかなか良く、記事末尾にスクロールするだけで体験できます。&lt;/p&gt;
&lt;p&gt;マージ前に作者の元のリポジトリの履歴を確認していなかったので、簡単なマージで済むと思っていましたが、結局大量のコードをマージし、その中に衝突やN回の巻き戻しが発生。無脑覆盖（単純な上書き）で、全てフロントエンドとレンダリングのテンプレートコードであり、私が使用するものを基準にしました。&lt;/p&gt;
&lt;p&gt;リポジトリ：&lt;a class=&#34;link&#34; href=&#34;https://github.com/TianlongXiang/hugo-theme-even&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/TianlongXiang/hugo-theme-even&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;中国語の罠です。&lt;code&gt;git&lt;/code&gt;でこのパラメータを調整しないと、生成時に現在の記事の&lt;code&gt;commit hash&lt;/code&gt;を取得できず、履歴リンクが生成に失敗します。完全な記事履歴を生成する際も、自動統合スクリプトを修正し、必ず現在のリポジトリ全体の履歴をプルしてください。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[feat: 完全に GitHub リポジトリを拉取して、記事の最終更新記録を動的に更新](&lt;a class=&#34;link&#34; href=&#34;https://github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/&lt;/a&gt;…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;新機能記事の履歴の確認関連する提出記録の表示&#34;&gt;新機能：記事の履歴の確認、関連する提出記録の表示
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/TianlongXiang/TianlongXiang.github.io/commit/1b5d719966737f16a8c67880370dc2722adea0b3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;タスク：パスが日本語で存在し、hugo GitInfo がこの設定を有効にする必要がある&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;name: Github 構築
run: git config --global core.quotePath false &amp;amp;&amp;amp; hugo -b &amp;quot;https://www.xiangtianlong.com/&amp;quot; -d &amp;quot;github_public&amp;quot; &amp;amp;&amp;amp; ls
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;スタイル調整&#34;&gt;スタイル調整
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;サイトコンテンツの幅を調整します。以前のデザインはモバイル端末とPC向けでしたが、実際にはスマホで見る人は少なく、自分自身もPCで見ていました。&lt;/li&gt;
&lt;li&gt;目次バーを自動伸縮するように変更します。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;本文&#34;&gt;本文
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;ouuan&lt;/code&gt;のコード記録を参考に半時間以上見てみても、コピーボタンの追加方法がよく分からなかった。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;時光穿梭，一月之后，又想到这事&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;本文-1&#34;&gt;本文
&lt;/h2&gt;&lt;p&gt;この課題が理解できなかったので、別の課題をコピーして、やっと理解できるものになった。検索で見つけた結果は、意外にも &lt;code&gt;hugo&lt;/code&gt; 公式フォーラムに、複製ボタンを追加する方法についての投稿があった。そこに行ってみると、論理が明確だった。混乱していたことがあったけど、元のサイトに戻って &lt;code&gt;even&lt;/code&gt; 渲染で生成されたコードブロックのスタイルと資料の説明が異なっていることに気づいた。これは少し面倒だったから、簡単に記録しておこう。&lt;/p&gt;
&lt;p&gt;フロントエンド開発はほとんど理解していないので、わからないことはブラウザの「要素を検査」ツールを開いて、コードを分析したり、右側のスタイル情報を見ながら、少しずつ論理を理解していった。「JavaScript」も理解できなかったけど、コンソールにログを出力した。最初は多くのことがわからなかったけど、落ち着いて、少しずつ論理を整理し分解していくと、必ず思路が見つかる。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pre&lt;/code&gt;ノードが複数あり、ここでは個別のコードブロックを指します。テーマがインデントを行単位で表示したため、コピーボタンが二つ表示されてしまいました。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;自体テーマのコードハイライト機能を無効化したいのですが、テーマの設定がよくわかりません。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hugo&lt;/code&gt;公式サイトで資料を見て、半ば理解して、&lt;code&gt;markup&lt;/code&gt;設定でコードハイライトを制御できることがわかりました。&lt;/li&gt;
&lt;li&gt;設定ファイルを調整し続けていますが、期待通りのレンダリングにはなりません。&lt;/li&gt;
&lt;li&gt;この手の設定群である&lt;code&gt;pygmentsOptions&lt;/code&gt;を発見し、さらに資料を調べて設定を調整しました。まず行番号を削除しました。&lt;/li&gt;
&lt;li&gt;カスタムの&lt;code&gt;css&lt;/code&gt;スタイルシートとカスタムの&lt;code&gt;js&lt;/code&gt;スクリプトを設定しました。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;正文&#34;&gt;正文
&lt;/h2&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;いよいよ色々とやっちまったから、突然最近見かけた配色が気に入ったんだ。ボタンのスタイルを中国風の天青色でいくか！&lt;/li&gt;
&lt;/ol&gt;
&lt;img class=&#34;special-img-class&#34; style=&#34;width:20%&#34; src=&#34;2022-02-25-02-01-22.png&#34; /&gt;
&lt;img class=&#34;special-img-class&#34; style=&#34;width:20%&#34; src=&#34;2022-02-25-02-01-33.png&#34; /&gt;
ouuan が４時間もかかって、この文章を見つけたときには笑えていたけど、どうしてこんなに時間が経ってしまったんだ？最後に時計を見ると３時間だった。
&lt;h2 id=&#34;参照リンク&#34;&gt;参照リンク
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://ouuan.github.io/post/from-hexo-to-hugo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ouuan.github.io/post/from-hexo-to-hugo/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://gohugobrasil.netlify.app/content-management/syntax-highlighting/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gohugobrasil.netlify.app/content-management/syntax-highlighting/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://gohugo.io/getting-started/configuration-markup#highlight&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gohugo.io/getting-started/configuration-markup#highlight&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;参考リンク&#34;&gt;参考リンク
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.dannyguo.com/blog/how-to-add-copy-to-clipboard-buttons-to-code-blocks-in-hugo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.dannyguo.com/blog/how-to-add-copy-to-clipboard-buttons-to-code-blocks-in-hugo/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
        </item>
        
    </channel>
</rss>
